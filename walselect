#!/bin/bash

choices=$(ls ~/Wallpapers | tr ' ' '\n')
choices="Random\n$choices"

selection=$(echo -e "$choices" | rofi -dmenu -width 50 -color-enabled -separator-style "solid" -font "Source Code Pro 10" -p "Wallpaper:")

#notify-send "$choices"
#notify-send "Selection is: $selection"

if [[ "$choices" != *"$selection"*  ]] ; then
    notify-send "No wallpaper selected"
elif [[ "$selection" == "Random" ]] ; then
    notify-send "Random wallpaper has been set as the theme"
    ~/.bin/scripts/walgrab
elif [[ "$selection" != "" ]] ; then
    selection="$HOME/Wallpapers/$selection"
    wal -i "$selection" -o ~/.bin/scripts/wal-set
fi

